{"ast":null,"code":"import request from \"@/network/request\";\nexport default {\n  name: \"clientAdd\",\n  mounted() {\n    this.$nextTick(() => {\n      layui.use(['jquery', 'form'], function () {\n        var form = layui.form;\n        //监听提交\n        form.on('submit(register)', function (data) {\n          var loginjson = data.field;\n          data = JSON.stringify(loginjson);\n          alert(data);\n          request.post(\"/api/Sys/v1/clients\", data, 'json', 'application/json').then(res => {\n            console.log(res);\n            if (res.msg === \"success\") {\n              layer.msg(\"成功！\", function () {});\n            } else {\n              layer.msg(\"失败，账号已经存在或者信息未填完整！\", function () {});\n            }\n          }).catch(e => {\n            // console.log(e);\n            layer.msg(\"失败，账号已经存在或者信息未填完整！\", function () {});\n          });\n        });\n      });\n    });\n  }\n};","map":{"version":3,"names":["request","name","mounted","$nextTick","layui","use","form","on","data","loginjson","field","JSON","stringify","alert","post","then","res","console","log","msg","layer","catch","e"],"sources":["src/components/login/clientAdd.vue"],"sourcesContent":["<template>\r\n    <div class=\"layui-unselect lau-sign-body\" style=\"padding-top: 0px \" >\r\n\r\n    <form action=\"\" class=\"layui-form\">\r\n\r\n        <div class=\"layui-form-item\" >\r\n            <div class=\"layui-inline\">\r\n                <label class=\"layui-form-label\" ><i class=\"iconfont layui-icon-extend-bianhao\" id=\"num\" >客户ID</i></label>\r\n                <div class=\"layui-input-block\">\r\n                    <input type=\"text\" name=\"ceid\" placeholder=\"请输入客户ID\" autocomplete=\"off\" class=\"layui-input\" id=\"inputnum\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"layui-inline\">\r\n                <label class=\"layui-form-label\"><i class=\"iconfont layui-icon-extend-ziyuan\"></i>客户名称</label>\r\n                <div class=\"layui-input-block\">\r\n                    <input type=\"text\" name=\"ceName\" placeholder=\"请输入客户名称\" autocomplete=\"off\" class=\"layui-input\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <div class=\"layui-inline\">\r\n                <label class=\"layui-form-label\"><i class=\"layui-icon layui-icon-password\"></i>密码</label>\r\n                <div class=\"layui-input-block\">\r\n                    <input type=\"password\" name=\"psw\" placeholder=\"请输入密码\" autocomplete=\"off\" class=\"layui-input\">\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"layui-inline\">\r\n                <label class=\"layui-form-label\"><i class=\"iconfont layui-icon-extend-icon-test\"></i>手机号</label>\r\n                <div class=\"layui-input-block\">\r\n                    <input type=\"text\" name=\"phone\" placeholder=\"请输入手机号\" autocomplete=\"off\" class=\"layui-input\">\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"layui-form-item lau-sign-other\" style=\"margin-top: 20px;text-align:center\">\r\n            <button type=\"button\" class=\"layui-btn layui-btn-normal\" lay-submit lay-filter=\"register\" style=\"\">提交</button>\r\n        </div>\r\n\r\n    </form>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import request from \"@/network/request\";\r\n    export default {\r\n        name: \"clientAdd\",\r\n\r\n        mounted(){\r\n          this.$nextTick(()=>{\r\n\r\n              layui.use(['jquery','form'], function() {\r\n\r\n                  var form = layui.form;\r\n                  //监听提交\r\n                  form.on('submit(register)', function(data) {\r\n                      var loginjson=(data.field);\r\n\r\n                      data=JSON.stringify(loginjson)\r\n\r\n                      alert(data);\r\n\r\n                      request.post(\r\n                          \"/api/Sys/v1/clients\",\r\n                          data,\r\n                          'json',\r\n                            'application/json'\r\n                      ).then(res=>{\r\n                          console.log(res);\r\n\r\n                          if(res.msg===\"success\"){\r\n                              layer.msg(\"成功！\",function(){\r\n\r\n                              });\r\n                          }else {\r\n                              layer.msg(\"失败，账号已经存在或者信息未填完整！\",function(){\r\n\r\n                              });\r\n                          }\r\n                      }).catch(e=>{\r\n                          // console.log(e);\r\n                          layer.msg(\"失败，账号已经存在或者信息未填完整！\",function(){\r\n\r\n                          });\r\n                      });\r\n\r\n\r\n\r\n                  });\r\n              });\r\n\r\n\r\n          })\r\n        },\r\n    }\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAiDA,OAAAA,OAAA;AACA;EACAC,IAAA;EAEAC,QAAA;IACA,KAAAC,SAAA;MAEAC,KAAA,CAAAC,GAAA;QAEA,IAAAC,IAAA,GAAAF,KAAA,CAAAE,IAAA;QACA;QACAA,IAAA,CAAAC,EAAA,+BAAAC,IAAA;UACA,IAAAC,SAAA,GAAAD,IAAA,CAAAE,KAAA;UAEAF,IAAA,GAAAG,IAAA,CAAAC,SAAA,CAAAH,SAAA;UAEAI,KAAA,CAAAL,IAAA;UAEAR,OAAA,CAAAc,IAAA,CACA,uBACAN,IAAA,EACA,QACA,mBACA,CAAAO,IAAA,CAAAC,GAAA;YACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;YAEA,IAAAA,GAAA,CAAAG,GAAA;cACAC,KAAA,CAAAD,GAAA,qBAEA;YACA;cACAC,KAAA,CAAAD,GAAA,oCAEA;YACA;UACA,GAAAE,KAAA,CAAAC,CAAA;YACA;YACAF,KAAA,CAAAD,GAAA,oCAEA;UACA;QAIA;MACA;IAGA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}