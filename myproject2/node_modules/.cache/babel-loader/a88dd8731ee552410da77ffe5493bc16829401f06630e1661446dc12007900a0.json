{"ast":null,"code":"import Sidebar from \"../components/sidebar.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"searchBill\",\n  components: {\n    Sidebar\n  },\n  mounted() {\n    this.id = this.$route.query.id;\n    let data = {\n      consignorId: this.id\n    };\n    var token = localStorage.getItem('token');\n    axios.post('http://localhost:8181/order/search', data, {\n      headers: {\n        'token': token\n      }\n    }).then(response => {\n      // 处理返回信息\n      if (response.data.code == \"1\") {\n        this.orders = response.data.data;\n        for (var i = 0; i < response.data.data.length; i++) {\n          this.orders[i].fromDate = this.orders[i].fromDate.slice(0, 10);\n        }\n      } else if (response.data.code == \"2\") {\n        alert(\"登录已过时，请重新登陆\");\n        window.location.replace(\"/\");\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  },\n  data() {\n    return {\n      id: this.$route.query.id,\n      username: this.$route.query.username,\n      email: this.$route.query.email,\n      orders: [{\n        destinationAddress: '',\n        name: '',\n        currentLocation: '',\n        departAddress: '',\n        quantity: 0,\n        weight: 0.0,\n        fromDate: '',\n        status: 'processing',\n        cost: 0\n      }],\n      fromdate: \" \",\n      todate: \" \"\n    };\n  },\n  methods: {\n    tableRowClassName({\n      row\n    }) {\n      console.log(\"23232323233\", row.status);\n      if (row.status == \"processing\") {\n        return 'warning-row';\n      } else {\n        return 'success-row';\n      }\n      return '';\n    }\n  }\n};","map":{"version":3,"names":["Sidebar","axios","name","components","mounted","id","$route","query","data","consignorId","token","localStorage","getItem","post","headers","then","response","code","orders","i","length","fromDate","slice","alert","window","location","replace","catch","error","console","log","username","email","destinationAddress","currentLocation","departAddress","quantity","weight","status","cost","fromdate","todate","methods","tableRowClassName","row"],"sources":["src/views/searchBill.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div>\r\n            <div style=\"display: flex;height: 100%\">\r\n                <sidebar style=\"height: 100%\"></sidebar>\r\n\r\n                <div>\r\n                    <el-card style=\"margin-left: 30px;margin-top: 30px;\">\r\n                        <el-table\r\n                                :data=\"orders\"\r\n                                border\r\n                                height=\"680px\"\r\n                                :row-class-name=\"tableRowClassName\"\r\n                                style=\"width: 100%;\">\r\n\r\n                            <el-table-column\r\n                                    label=\"展开\"\r\n                                    type=\"expand\">\r\n                                <template slot-scope=\"props\" >\r\n                                    <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n                                        <el-form-item label=\"ID\">\r\n                                            <span>{{ props.row.id }}</span>\r\n                                        </el-form-item>\r\n                                        <el-form-item label=\"名称\">\r\n                                            <span>{{ props.row.name }}</span>\r\n                                        </el-form-item>\r\n                                        <el-form-item label=\"费用\">\r\n                                            <span>{{ props.row.cost }}元</span>\r\n                                        </el-form-item>\r\n                                        <el-form-item label=\"数量\">\r\n                                            <span>{{ props.row.quantity }}</span>\r\n                                        </el-form-item>\r\n                                        <el-form-item label=\"重量\">\r\n                                            <span>{{ props.row.weight }}Kg</span>\r\n                                        </el-form-item>\r\n                                        <el-form-item label=\"状态\">\r\n                                            <span>{{ props.row.status }}</span>\r\n                                        </el-form-item>\r\n                                        <el-form-item label=\"原寄地\">\r\n                                            <span>{{ props.row.departAddress }}</span>\r\n                                        </el-form-item>\r\n                                        <el-form-item label=\"收件地址\">\r\n                                            <span>{{ props.row.destinationAddress }}</span>\r\n                                        </el-form-item>\r\n                                    </el-form>\r\n                                </template>\r\n                            </el-table-column>\r\n\r\n                            <el-table-column\r\n                                    prop=\"id\"\r\n                                    label=\"ID\"\r\n                                    width=\"120\">\r\n                            </el-table-column>\r\n\r\n                            <el-table-column\r\n                                    prop=\"name\"\r\n                                    label=\"货物名称\">\r\n                            </el-table-column>\r\n\r\n                            <el-table-column\r\n                                    prop=\"fromDate\"\r\n                                    label=\"寄出时间\"\r\n                                    width=\"180\">\r\n                            </el-table-column>\r\n\r\n                            <el-table-column\r\n                                    prop=\"departAddress\"\r\n                                    label=\"原寄地\"\r\n                                    width=\"340\">\r\n                            </el-table-column>\r\n\r\n                            <el-table-column\r\n                                    prop=\"destinationAddress\"\r\n                                    label=\"收件地址\"\r\n                                    width=\"340\">\r\n                            </el-table-column>\r\n\r\n                            <el-table-column\r\n                                    prop=\"quantity\"\r\n                                    label=\"数量\">\r\n                            </el-table-column>\r\n\r\n                            <el-table-column\r\n                                    prop=\"weight\"\r\n                                    label=\"重量\">\r\n                            </el-table-column>\r\n\r\n                            <el-table-column\r\n                                    prop=\"cost\"\r\n                                    label=\"费用\">\r\n                            </el-table-column>\r\n\r\n                        </el-table>\r\n                    </el-card>\r\n                    <!--&lt;!&ndash;          <div style=\"display: flex;width: 800px;justify-content:center;align-items:center;margin-left: 40px;margin-top: 30px\">-->\r\n                    <!--            <el-input-->\r\n                    <!--              style=\"margin-right: 30px;width: 300px\"-->\r\n                    <!--              placeholder=\"请选择日期\"-->\r\n                    <!--              suffix-icon=\"el-icon-date\"-->\r\n                    <!--              v-model=\"fromdate\">-->\r\n                    <!--            </el-input>-->\r\n                    <!--            <i class=\"el-icon-caret-right\" style=\"margin-right: 30px\"></i>-->\r\n                    <!--            <el-input-->\r\n                    <!--              style=\"width: 300px\"-->\r\n                    <!--              placeholder=\"请选择日期\"-->\r\n                    <!--              suffix-icon=\"el-icon-date\"-->\r\n                    <!--              v-model=\"todate\">-->\r\n                    <!--            </el-input>-->\r\n                    <!--          </div>&ndash;&gt;-->\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Sidebar from \"../components/sidebar.vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    name: \"searchBill\",\r\n    components: {Sidebar},\r\n    mounted() {\r\n        this.id = this.$route.query.id;\r\n        let data = {consignorId:this.id};\r\n        var token = localStorage.getItem('token')\r\n        axios.post('http://localhost:8181/order/search', data,\r\n            {\r\n                headers: {'token':token}}\r\n        )\r\n            .then(response => {\r\n                // 处理返回信息\r\n                if (response.data.code==\"1\"){\r\n                    this.orders=response.data.data;\r\n                    for(var i=0;i<response.data.data.length;i++){\r\n                        this.orders[i].fromDate= this.orders[i].fromDate.slice(0, 10);\r\n                    }\r\n                }else if(response.data.code==\"2\"){\r\n                    alert(\"登录已过时，请重新登陆\");\r\n                    window.location.replace(\"/\");\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n\r\n    },\r\n    data(){\r\n        return{\r\n            id:this.$route.query.id,\r\n            username:this.$route.query.username,\r\n            email:this.$route.query.email,\r\n            orders:[\r\n                {\r\n                    destinationAddress:'',\r\n                    name:'',\r\n                    currentLocation:'',\r\n                    departAddress:'',\r\n                    quantity:0,\r\n                    weight:0.0,\r\n                    fromDate:'',\r\n                    status:'processing',\r\n                    cost:0\r\n                },\r\n            ],\r\n            fromdate:\" \",\r\n            todate:\" \",\r\n        }\r\n    },\r\n    methods:{\r\n        tableRowClassName({row}) {\r\n            console.log(\"23232323233\",row.status)\r\n            if (row.status == \"processing\") {\r\n                return 'warning-row';\r\n            } else {\r\n                return 'success-row';\r\n            }\r\n            return '';\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.demo-table-expand {\r\n    font-size: 0;\r\n    margin-left: 30px;\r\n}\r\n.demo-table-expand label {\r\n    width: 90px;\r\n    color: #99a9bf;\r\n}\r\n.demo-table-expand .el-form-item {\r\n    margin-right: 0;\r\n    margin-bottom: 0;\r\n    width: 50%;\r\n}\r\n\r\n.el-table .warning-row {\r\n    background: oldlace;\r\n}\r\n\r\n.el-table .success-row {\r\n    background: #f0f9eb;\r\n}\r\n</style>\r\n"],"mappings":"AAqHA,OAAAA,OAAA;AACA,OAAAC,KAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAH;EAAA;EACAI,QAAA;IACA,KAAAC,EAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAF,EAAA;IACA,IAAAG,IAAA;MAAAC,WAAA,OAAAJ;IAAA;IACA,IAAAK,KAAA,GAAAC,YAAA,CAAAC,OAAA;IACAX,KAAA,CAAAY,IAAA,uCAAAL,IAAA,EACA;MACAM,OAAA;QAAA,SAAAJ;MAAA;IAAA,EACA,CACAK,IAAA,CAAAC,QAAA;MACA;MACA,IAAAA,QAAA,CAAAR,IAAA,CAAAS,IAAA;QACA,KAAAC,MAAA,GAAAF,QAAA,CAAAR,IAAA,CAAAA,IAAA;QACA,SAAAW,CAAA,MAAAA,CAAA,GAAAH,QAAA,CAAAR,IAAA,CAAAA,IAAA,CAAAY,MAAA,EAAAD,CAAA;UACA,KAAAD,MAAA,CAAAC,CAAA,EAAAE,QAAA,QAAAH,MAAA,CAAAC,CAAA,EAAAE,QAAA,CAAAC,KAAA;QACA;MACA,WAAAN,QAAA,CAAAR,IAAA,CAAAS,IAAA;QACAM,KAAA;QACAC,MAAA,CAAAC,QAAA,CAAAC,OAAA;MACA;IACA,GACAC,KAAA,CAAAC,KAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;IACA;EAEA;EACApB,KAAA;IACA;MACAH,EAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,EAAA;MACA0B,QAAA,OAAAzB,MAAA,CAAAC,KAAA,CAAAwB,QAAA;MACAC,KAAA,OAAA1B,MAAA,CAAAC,KAAA,CAAAyB,KAAA;MACAd,MAAA,GACA;QACAe,kBAAA;QACA/B,IAAA;QACAgC,eAAA;QACAC,aAAA;QACAC,QAAA;QACAC,MAAA;QACAhB,QAAA;QACAiB,MAAA;QACAC,IAAA;MACA,EACA;MACAC,QAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,kBAAA;MAAAC;IAAA;MACAf,OAAA,CAAAC,GAAA,gBAAAc,GAAA,CAAAN,MAAA;MACA,IAAAM,GAAA,CAAAN,MAAA;QACA;MACA;QACA;MACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}