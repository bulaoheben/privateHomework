{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport request from \"../network/request\";\nimport router from \"../router\";\nlet idendata = \"\";\nconst layui = window.layui;\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'login',\n  // props: {\n  //   msg: String\n  // }\n  data: function () {\n    return {};\n  },\n  // setup () {\n  //     // const store = useStore();\n  //     // return {\n  //     //     // 在 computed 函数中访问 state\n  //     //     getId: computed(() => store.state.userInfo.id),\n  //     //\n  //     //     // 在 computed 函数中访问 getter\n  //     //     getIdentify: computed(() => store.state.userInfo.identify),\n  //     //     setInfo: (num,identify) =>store.commit('setInfo', num,identify)\n  //     // }\n  //\n  //\n  // },\n  mounted() {\n    // this.$nextTick(() => {\n    const layui = window.layui;\n    layui.use('form', function () {\n      var form = layui.form;\n      //监听提交\n      form.on('submit(login)', function (data) {\n        var loginjson = JSON.stringify(data.field);\n        var logindata = JSON.parse(loginjson);\n        var identify = logindata.identify;\n        let num = logindata.num;\n        let psw = logindata.psw;\n        let data2 = {\n          username: \"liu\",\n          password: \"123\"\n        }; // alert(identify)\n\n        if (identify === '0' || identify === '1' || identify === '2') {\n          request.post(\n          // \"http://localhost:8080/Sys/dealLogin\",\n          \"/user/login\", data2).then(data => {\n            // console.log(data)\n            //接受数据\n            // let  data = res.data;\n            if (data !== \"fail\") {\n              layer.msg(\"登录成功！！！\", function () {\n                if (identify === '0') {\n                  // location.href=\"/adminIndex\"\n                  router.push({\n                    path: '/adminIndex',\n                    query: {\n                      account: data[0].account,\n                      name: data[0].name,\n                      identify: identify\n                    }\n                  });\n                } else if (identify === '1') {\n                  router.push({\n                    path: '/companyIndex',\n                    query: {\n                      id: num,\n                      name: data[0].coName,\n                      identify: identify\n                    }\n                  });\n\n                  // location.href=\"/companyIndex\"\n                } else if (identify === '2') {\n                  // this.$router.push({path:'/clientIndex',query: {id:num,identify:identify}})\n                  router.push({\n                    path: '/clientIndex',\n                    query: {\n                      id: num,\n                      name: data[0].ceName,\n                      identify: identify\n                    }\n                  });\n                  // location.href=\"/clientIndex\"\n                }\n              }); //layer.msg\n            } else {\n              layui.use('layer', function () {\n                var layer = layui.layer;\n                layer.open({\n                  type: 4,\n                  content: [\"账号或者密码或者身份不匹配\", \"#loginsub\"],\n                  shade: 0,\n                  tips: [2, '#cc0000'],\n                  closeBtn: 0,\n                  time: 2000\n                });\n              });\n            }\n          });\n        } else {\n          layui.use('layer', function () {\n            var layer = layui.layer;\n            layer.open({\n              type: 4,\n              content: [\"没有选择身份\", \"#myradio\"],\n              shade: 0,\n              tips: [4, '#91d'],\n              closeBtn: 0,\n              time: 2000\n            });\n          });\n        }\n      });\n    });\n    layui.use('form', function () {\n      var form = layui.form;\n      form.on('radio(iden)', function (data) {\n        idendata = data.value;\n      });\n    });\n\n    // })//this.$nextTick\n  },\n\n  methods: {\n    goToRes: function () {\n      layui.use('layer', function () {\n        let layer = layui.layer;\n        if (idendata == null || idendata === \"\") {\n          layer.open({\n            type: 4,\n            content: [\"没有选择身份\", \"#myradio\"],\n            shade: 0,\n            tips: [4, '#91d'],\n            closeBtn: 0,\n            time: 2000\n          });\n        } else if (idendata === '0') {\n          layer.open({\n            type: 4,\n            content: [\"管理员不能被注册\", \"#myradio\"],\n            shade: 0,\n            tips: [4, '#91d'],\n            closeBtn: 0,\n            time: 2000\n          });\n        } else if (idendata === '1') {\n          layer.open({\n            type: 2,\n            title: '承运商注册',\n            skin: 'layui-layer-lan',\n            shadeClose: false,\n            shade: 0.8,\n            area: ['700px', '220px'],\n            resize: true,\n            content: '/companyAdd',\n            end: function () {\n              window.location.reload(); //刷新父页面\n            }\n          });\n        } else if (idendata === '2') {\n          layer.open({\n            type: 2,\n            title: '客户注册',\n            skin: 'layui-layer-lan',\n            shadeClose: false,\n            shade: 0.8,\n            area: ['700px', '220px'],\n            resize: true,\n            content: '/clientAdd',\n            end: function () {\n              window.location.reload(); //刷新父页面\n            }\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["request","router","idendata","layui","window","name","data","mounted","use","form","on","loginjson","JSON","stringify","field","logindata","parse","identify","num","psw","data2","username","password","post","then","layer","msg","push","path","query","account","id","coName","ceName","open","type","content","shade","tips","closeBtn","time","value","methods","goToRes","title","skin","shadeClose","area","resize","end","location","reload"],"sources":["src/views/login.vue"],"sourcesContent":["<template>\n\n    <div class=\"layui-unselect lau-sign-body\"\n      style=\"background-image: url('../Sys/images/mybg.jpg'); background-repeat: no-repeat; \">\n     <form action=\"www.baidu.com\" class=\"layui-form\" id=\"myForm\">\n         <div class=\"layui-form layui-form-pane lau-sign-form\">\n             <h1 class=\"lau-sign-title\">云上网络货运平台</h1>\n             <div class=\"layui-form-item\">\n                 <label class=\"layui-form-label\"><i\n                         class=\"iconfont layui-icon-extend-bianhao\"></i> 账号</label>\n                 <div class=\"layui-input-block\">\n                     <input type=\"text\" name=\"num\" placeholder=\"请输入账号\"\n                            autocomplete=\"off\" class=\"layui-input\">\n                 </div>\n             </div>\n             <div class=\"layui-form-item\">\n                 <label class=\"layui-form-label\"><i\n                         class=\"layui-icon layui-icon-password\"></i> 密码</label>\n                 <div class=\"layui-input-block\">\n                     <input type=\"password\" name=\"psw\" placeholder=\"请输入密码\"\n                            autocomplete=\"off\" class=\"layui-input\">\n                 </div>\n             </div>\n\n\n             <div class=\"layui-form-item\" pane>\n                 <label class=\"layui-form-label\" id=\"myradio\"><i\n                         class=\"iconfont layui-icon-extend-ziyuan\"></i>身份</label>\n                 <div class=\"layui-input-block\" >\n                     <input type=\"radio\" name=\"identify\" value=\"0\" title=\"管理员\"\n                            lay-filter=\"iden\" style=\"margin: 0px 0px 0 0;padding-right: 0;\" />\n                     <input type=\"radio\" name=\"identify\"\n                            value=\"1\" title=\"承运商\" lay-filter=\"iden\" style=\"margin: 0 0 0 0;padding-right: 0;\"/>\n                     <input type=\"radio\"\n                            name=\"identify\" value=\"2\" title=\"客户\" lay-filter=\"iden\" style=\"margin: 0 0 0 0;padding-right: 0;\"/>\n                 </div>\n\n             </div>\n\n             <div class=\"layui-form-item\" id=\"loginsub\">\n                 <button type=\"button\" class=\"layui-btn layui-btn-fluid\" lay-submit\n                         lay-filter=\"login\">登 录\n                 </button>\n             </div>\n\n             <div class=\"layui-form-item lau-sign-other\">\n                 <el-link type=\"text\"  @click=\"goToRes\" class=\"lau-sign-reg lau-sign-link\">还没有账号？点击这里注册</el-link>\n\n             </div>\n\n         </div>\n     </form>\n\n </div>\n\n</template>\n\n<!--<script>-->\n<!--    // import axios from \"axios\"-->\n<!-- // import {layui} from \"\"= \"\";-->\n\n<!--export default {-->\n<!--    // eslint-disable-next-line vue/multi-word-component-names-->\n<!--    name: 'login',-->\n<!--    // props: {-->\n<!--    //   msg: String-->\n<!--    // }-->\n<!--    data: function () {-->\n<!--        return {-->\n<!--            username: '',-->\n<!--            password: ''-->\n<!--        }-->\n<!--    },-->\n\n\n<!--};-->\n\n\n<!--</script>-->\n\n\n<script >\n\nimport request from \"../network/request\";\nimport router from \"../router\"\n\n\n    let idendata = \"\";\n    const layui = window.layui;\n    export default {\n        // eslint-disable-next-line vue/multi-word-component-names\n        name: 'login',\n        // props: {\n        //   msg: String\n        // }\n        data: function () {\n            return {\n\n            }\n        },\n        // setup () {\n        //     // const store = useStore();\n        //     // return {\n        //     //     // 在 computed 函数中访问 state\n        //     //     getId: computed(() => store.state.userInfo.id),\n        //     //\n        //     //     // 在 computed 函数中访问 getter\n        //     //     getIdentify: computed(() => store.state.userInfo.identify),\n        //     //     setInfo: (num,identify) =>store.commit('setInfo', num,identify)\n        //     // }\n        //\n        //\n        // },\n        mounted () {\n            // this.$nextTick(() => {\n                const layui = window.layui;\n                layui.use('form', function() {\n                    var form = layui.form;\n                    //监听提交\n                    form.on('submit(login)', function(data) {\n                        var loginjson = JSON.stringify(data.field);\n                        var logindata = JSON.parse(loginjson);\n                        var identify = logindata.identify;\n                        let num = logindata.num;\n                        let psw = logindata.psw;\n\n                        let data2={\n                            username:\"liu\",\n                            password:\"123\",\n                        }// alert(identify)\n\n                        if (identify === '0' || identify === '1' || identify === '2') {\n                            request.post(\n                                // \"http://localhost:8080/Sys/dealLogin\",\n                                \"/user/login\",\n                                data2\n                            ).then(data => {\n                                // console.log(data)\n                                //接受数据\n                                // let  data = res.data;\n                                if (data !== \"fail\") {\n                                    layer.msg(\"登录成功！！！\", function() {\n\n                                        if(identify ==='0'){\n                                        // location.href=\"/adminIndex\"\n                                            router.push({path:'/adminIndex',query: {account:data[0].account,name:data[0].name,identify:identify}})\n                                    }else if(identify === '1'){\n                                            router.push({path:'/companyIndex',query: {id:num,name:data[0].coName,identify:identify}})\n\n                                            // location.href=\"/companyIndex\"\n                                    }else if(identify === '2'){\n                                            // this.$router.push({path:'/clientIndex',query: {id:num,identify:identify}})\n                                            router.push({path:'/clientIndex',query: {id:num,name:data[0].ceName,identify:identify}})\n                                        // location.href=\"/clientIndex\"\n\n                                    }\n                                    });//layer.msg\n                                } else {\n                                    layui.use('layer', function() {\n                                        var layer = layui.layer;\n                                        layer.open({\n                                            type : 4,\n                                            content : [ \"账号或者密码或者身份不匹配\",\n                                                \"#loginsub\" ],\n                                            shade : 0,\n                                            tips : [ 2, '#cc0000' ],\n                                            closeBtn : 0,\n                                            time : 2000,\n\n                                        })\n                                    });\n                                }\n                                })\n\n                        } else {\n                            layui.use('layer', function() {\n                                var layer = layui.layer;\n                                layer.open({\n                                    type : 4,\n                                    content : [ \"没有选择身份\", \"#myradio\" ],\n                                    shade : 0,\n                                    tips : [ 4, '#91d' ],\n                                    closeBtn : 0,\n                                    time : 2000,\n\n                                })\n                            });\n                        }\n\n                    });\n                });\n\n                layui.use('form', function() {\n                    var form = layui.form;\n                    form.on('radio(iden)', function(data) {\n                        idendata = data.value;\n                    });\n                });\n\n            // })//this.$nextTick\n\n        },\n        methods:{\n             goToRes:function() {\n    layui.use('layer', function() {\n        let layer = layui.layer;\n        if (idendata == null || idendata === \"\") {\n            layer.open({\n                type : 4,\n                content : [ \"没有选择身份\", \"#myradio\" ],\n                shade : 0,\n                tips : [ 4, '#91d' ],\n                closeBtn : 0,\n                time : 2000,\n            })\n\n        } else if (idendata === '0') {\n            layer.open({\n                type : 4,\n                content : [ \"管理员不能被注册\", \"#myradio\" ],\n                shade : 0,\n                tips : [ 4, '#91d' ],\n                closeBtn : 0,\n                time : 2000,\n            });\n        }\n        else if (idendata === '1'){\n            layer.open(\n                {\n                    type: 2,\n                    title: '承运商注册',\n                    skin: 'layui-layer-lan',\n                    shadeClose: false,\n                    shade: 0.8,\n                    area:  ['700px', '220px'],\n                    resize:true,\n                    content:'/companyAdd',\n                    end: function(){\n                        window.location.reload(); //刷新父页面\n                    }\n                });\n        }\n        else if (idendata === '2'){\n            layer.open(\n                {\n                    type: 2,\n                    title: '客户注册',\n                    skin: 'layui-layer-lan',\n                    shadeClose: false,\n                    shade: 0.8,\n                    area:  ['700px', '220px'],\n                    resize:true,\n                    content:'/clientAdd',\n                    end: function(){\n                        window.location.reload(); //刷新父页面\n                    }\n                });\n        }\n\n    });\n\n\n},\n\n\n\n\n}\n\n    };\n\n\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n    /*@import url(\"../Sys/css/layui.css\");*/\n    /*@import url(\"../Sys/css/sign.css\");*/\n    /*@import url(\"../Sys/css/font.css\");*/\n    /*@import url(\"../Sys/css/xadmin.css\");*/\n    /*@import url(\"../Sys/js/css/modules/layui-icon-extend/iconfont.css\");*/\n\n</style>\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}