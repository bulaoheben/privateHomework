{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport request from \"../network/request\";\nexport default {\n  name: 'admin',\n  data() {\n    return {\n      loginForm: {\n        username: 'liu',\n        password: '123'\n      }\n    };\n  },\n  methods: {\n    submitForm() {\n      if (this.loginForm.username == \"\") {\n        alert(\"用户名不得为空\");\n      } else if (this.loginForm.password == \"\") {\n        alert(\"密码不得为空\");\n      } else {\n        let data = {\n          username: this.loginForm.username,\n          password: this.loginForm.password\n        };\n        request.post(\"/api/user/login\", data).then(response => {\n          // 处理返回信息\n          console.log(response.data);\n          localStorage.setItem('token', JSON.stringify(response.data.data.token));\n          if (response.data.data !== null) {\n            this.$router.push({\n              path: `/mainpage`,\n              query: {\n                username: response.data.data.username,\n                id: response.data.data.id,\n                email: response.data.data.email\n              }\n            });\n          } else {\n            alert(response.data.msg);\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","request","name","data","loginForm","username","password","methods","submitForm","alert","post","then","response","console","log","localStorage","setItem","JSON","stringify","token","$router","push","path","query","id","email","msg"],"sources":["src/views/login.vue"],"sourcesContent":["<!--<template>-->\n\n<!--    <div class=\"layui-unselect lau-sign-body\"-->\n<!--      style=\"background-image: url('../Sys/images/mybg.jpg'); background-repeat: no-repeat; \">-->\n<!--     <form action=\"www.baidu.com\" class=\"layui-form\" id=\"myForm\">-->\n<!--         <div class=\"layui-form layui-form-pane lau-sign-form\">-->\n<!--             <h1 class=\"lau-sign-title\">云上网络货运平台</h1>-->\n<!--             <div class=\"layui-form-item\">-->\n<!--                 <label class=\"layui-form-label\"><i-->\n<!--                         class=\"iconfont layui-icon-extend-bianhao\"></i> 账号</label>-->\n<!--                 <div class=\"layui-input-block\">-->\n<!--                     <input type=\"text\" name=\"num\" placeholder=\"请输入账号\"-->\n<!--                            autocomplete=\"off\" class=\"layui-input\">-->\n<!--                 </div>-->\n<!--             </div>-->\n<!--             <div class=\"layui-form-item\">-->\n<!--                 <label class=\"layui-form-label\"><i-->\n<!--                         class=\"layui-icon layui-icon-password\"></i> 密码</label>-->\n<!--                 <div class=\"layui-input-block\">-->\n<!--                     <input type=\"password\" name=\"psw\" placeholder=\"请输入密码\"-->\n<!--                            autocomplete=\"off\" class=\"layui-input\">-->\n<!--                 </div>-->\n<!--             </div>-->\n\n\n<!--             <div class=\"layui-form-item\" pane>-->\n<!--                 <label class=\"layui-form-label\" id=\"myradio\"><i-->\n<!--                         class=\"iconfont layui-icon-extend-ziyuan\"></i>身份</label>-->\n<!--                 <div class=\"layui-input-block\" >-->\n<!--                     <input type=\"radio\" name=\"identify\" value=\"0\" title=\"管理员\"-->\n<!--                            lay-filter=\"iden\" style=\"margin: 0px 0px 0 0;padding-right: 0;\" />-->\n<!--                     <input type=\"radio\" name=\"identify\"-->\n<!--                            value=\"1\" title=\"承运商\" lay-filter=\"iden\" style=\"margin: 0 0 0 0;padding-right: 0;\"/>-->\n<!--                     <input type=\"radio\"-->\n<!--                            name=\"identify\" value=\"2\" title=\"客户\" lay-filter=\"iden\" style=\"margin: 0 0 0 0;padding-right: 0;\"/>-->\n<!--                 </div>-->\n\n<!--             </div>-->\n\n<!--             <div class=\"layui-form-item\" id=\"loginsub\">-->\n<!--                 <button type=\"button\" class=\"layui-btn layui-btn-fluid\" lay-submit-->\n<!--                         lay-filter=\"login\">登 录-->\n<!--                 </button>-->\n<!--             </div>-->\n\n<!--             <div class=\"layui-form-item lau-sign-other\">-->\n<!--                 <el-link type=\"text\"  @click=\"goToRes\" class=\"lau-sign-reg lau-sign-link\">还没有账号？点击这里注册</el-link>-->\n\n<!--             </div>-->\n\n<!--         </div>-->\n<!--     </form>-->\n\n<!-- </div>-->\n\n<!--</template>-->\n\n<!--&lt;!&ndash;<script>&ndash;&gt;-->\n<!--&lt;!&ndash;    // import axios from \"axios\"&ndash;&gt;-->\n<!--&lt;!&ndash; // import {layui} from \"\"= \"\";&ndash;&gt;-->\n\n<!--&lt;!&ndash;export default {&ndash;&gt;-->\n<!--&lt;!&ndash;    // eslint-disable-next-line vue/multi-word-component-names&ndash;&gt;-->\n<!--&lt;!&ndash;    name: 'login',&ndash;&gt;-->\n<!--&lt;!&ndash;    // props: {&ndash;&gt;-->\n<!--&lt;!&ndash;    //   msg: String&ndash;&gt;-->\n<!--&lt;!&ndash;    // }&ndash;&gt;-->\n<!--&lt;!&ndash;    data: function () {&ndash;&gt;-->\n<!--&lt;!&ndash;        return {&ndash;&gt;-->\n<!--&lt;!&ndash;            username: '',&ndash;&gt;-->\n<!--&lt;!&ndash;            password: ''&ndash;&gt;-->\n<!--&lt;!&ndash;        }&ndash;&gt;-->\n<!--&lt;!&ndash;    },&ndash;&gt;-->\n\n\n<!--&lt;!&ndash;};&ndash;&gt;-->\n\n\n<!--&lt;!&ndash;</script>&ndash;&gt;-->\n\n\n<!--<script >-->\n\n<!--import request from \"../network/request\";-->\n<!--import router from \"../router\"-->\n\n\n<!--    let idendata = \"\";-->\n<!--    const layui = window.layui;-->\n<!--    export default {-->\n<!--        // eslint-disable-next-line vue/multi-word-component-names-->\n<!--        name: 'login',-->\n<!--        // props: {-->\n<!--        //   msg: String-->\n<!--        // }-->\n<!--        data: function () {-->\n<!--            return {-->\n\n<!--            }-->\n<!--        },-->\n<!--        // setup () {-->\n<!--        //     // const store = useStore();-->\n<!--        //     // return {-->\n<!--        //     //     // 在 computed 函数中访问 state-->\n<!--        //     //     getId: computed(() => store.state.userInfo.id),-->\n<!--        //     //-->\n<!--        //     //     // 在 computed 函数中访问 getter-->\n<!--        //     //     getIdentify: computed(() => store.state.userInfo.identify),-->\n<!--        //     //     setInfo: (num,identify) =>store.commit('setInfo', num,identify)-->\n<!--        //     // }-->\n<!--        //-->\n<!--        //-->\n<!--        // },-->\n<!--        mounted () {-->\n<!--            // this.$nextTick(() => {-->\n<!--                const layui = window.layui;-->\n<!--                layui.use('form', function() {-->\n<!--                    var form = layui.form;-->\n<!--                    //监听提交-->\n<!--                    form.on('submit(login)', function(data) {-->\n<!--                        var loginjson = JSON.stringify(data.field);-->\n<!--                        var logindata = JSON.parse(loginjson);-->\n<!--                        var identify = logindata.identify;-->\n<!--                        let num = logindata.num;-->\n<!--                        let psw = logindata.psw;-->\n\n<!--                        let data2={-->\n<!--                            username:\"liu\",-->\n<!--                            password:\"123\",-->\n<!--                        }// alert(identify)-->\n\n<!--                        if (identify === '0' || identify === '1' || identify === '2') {-->\n<!--                            request.post(-->\n<!--                                // \"http://localhost:8080/Sys/dealLogin\",-->\n<!--                                \"/api/user/login\",-->\n<!--                                data2-->\n<!--                            ).then(data => {-->\n<!--                                // console.log(data)-->\n<!--                                //接受数据-->\n<!--                                // let  data = res.data;-->\n<!--                                if (data !== \"fail\") {-->\n<!--                                    layer.msg(\"登录成功！！！\", function() {-->\n\n<!--                                        if(identify ==='0'){-->\n<!--                                        // location.href=\"/adminIndex\"-->\n<!--                                            router.push({path:'/adminIndex',query: {account:data[0].account,name:data[0].name,identify:identify}})-->\n<!--                                    }else if(identify === '1'){-->\n<!--                                            router.push({path:'/companyIndex',query: {id:num,name:data[0].coName,identify:identify}})-->\n\n<!--                                            // location.href=\"/companyIndex\"-->\n<!--                                    }else if(identify === '2'){-->\n<!--                                            // this.$router.push({path:'/clientIndex',query: {id:num,identify:identify}})-->\n<!--                                            router.push({path:'/clientIndex',query: {id:num,name:data[0].ceName,identify:identify}})-->\n<!--                                        // location.href=\"/clientIndex\"-->\n\n<!--                                    }-->\n<!--                                    });//layer.msg-->\n<!--                                } else {-->\n<!--                                    layui.use('layer', function() {-->\n<!--                                        var layer = layui.layer;-->\n<!--                                        layer.open({-->\n<!--                                            type : 4,-->\n<!--                                            content : [ \"账号或者密码或者身份不匹配\",-->\n<!--                                                \"#loginsub\" ],-->\n<!--                                            shade : 0,-->\n<!--                                            tips : [ 2, '#cc0000' ],-->\n<!--                                            closeBtn : 0,-->\n<!--                                            time : 2000,-->\n\n<!--                                        })-->\n<!--                                    });-->\n<!--                                }-->\n<!--                                })-->\n\n<!--                        } else {-->\n<!--                            layui.use('layer', function() {-->\n<!--                                var layer = layui.layer;-->\n<!--                                layer.open({-->\n<!--                                    type : 4,-->\n<!--                                    content : [ \"没有选择身份\", \"#myradio\" ],-->\n<!--                                    shade : 0,-->\n<!--                                    tips : [ 4, '#91d' ],-->\n<!--                                    closeBtn : 0,-->\n<!--                                    time : 2000,-->\n\n<!--                                })-->\n<!--                            });-->\n<!--                        }-->\n\n<!--                    });-->\n<!--                });-->\n\n<!--                layui.use('form', function() {-->\n<!--                    var form = layui.form;-->\n<!--                    form.on('radio(iden)', function(data) {-->\n<!--                        idendata = data.value;-->\n<!--                    });-->\n<!--                });-->\n\n<!--            // })//this.$nextTick-->\n\n<!--        },-->\n<!--        methods:{-->\n<!--             goToRes:function() {-->\n<!--    layui.use('layer', function() {-->\n<!--        let layer = layui.layer;-->\n<!--        if (idendata == null || idendata === \"\") {-->\n<!--            layer.open({-->\n<!--                type : 4,-->\n<!--                content : [ \"没有选择身份\", \"#myradio\" ],-->\n<!--                shade : 0,-->\n<!--                tips : [ 4, '#91d' ],-->\n<!--                closeBtn : 0,-->\n<!--                time : 2000,-->\n<!--            })-->\n\n<!--        } else if (idendata === '0') {-->\n<!--            layer.open({-->\n<!--                type : 4,-->\n<!--                content : [ \"管理员不能被注册\", \"#myradio\" ],-->\n<!--                shade : 0,-->\n<!--                tips : [ 4, '#91d' ],-->\n<!--                closeBtn : 0,-->\n<!--                time : 2000,-->\n<!--            });-->\n<!--        }-->\n<!--        else if (idendata === '1'){-->\n<!--            layer.open(-->\n<!--                {-->\n<!--                    type: 2,-->\n<!--                    title: '承运商注册',-->\n<!--                    skin: 'layui-layer-lan',-->\n<!--                    shadeClose: false,-->\n<!--                    shade: 0.8,-->\n<!--                    area:  ['700px', '220px'],-->\n<!--                    resize:true,-->\n<!--                    content:'/companyAdd',-->\n<!--                    end: function(){-->\n<!--                        window.location.reload(); //刷新父页面-->\n<!--                    }-->\n<!--                });-->\n<!--        }-->\n<!--        else if (idendata === '2'){-->\n<!--            layer.open(-->\n<!--                {-->\n<!--                    type: 2,-->\n<!--                    title: '客户注册',-->\n<!--                    skin: 'layui-layer-lan',-->\n<!--                    shadeClose: false,-->\n<!--                    shade: 0.8,-->\n<!--                    area:  ['700px', '220px'],-->\n<!--                    resize:true,-->\n<!--                    content:'/clientAdd',-->\n<!--                    end: function(){-->\n<!--                        window.location.reload(); //刷新父页面-->\n<!--                    }-->\n<!--                });-->\n<!--        }-->\n\n<!--    });-->\n\n\n<!--},-->\n\n\n\n\n<!--}-->\n\n<!--    };-->\n\n\n\n<!--</script>-->\n\n<!--&lt;!&ndash; Add \"scoped\" attribute to limit CSS to this component only &ndash;&gt;-->\n<!--<style scoped>-->\n<!--    /*@import url(\"../Sys/css/layui.css\");*/-->\n<!--    /*@import url(\"../Sys/css/sign.css\");*/-->\n<!--    /*@import url(\"../Sys/css/font.css\");*/-->\n<!--    /*@import url(\"../Sys/css/xadmin.css\");*/-->\n<!--    /*@import url(\"../Sys/js/css/modules/layui-icon-extend/iconfont.css\");*/-->\n\n<!--</style>-->\n\n\n\n\n<template>\n    <div class=\"container\">\n        <div class=\"login-wrapper\">\n            <div class=\"header\">Login</div>\n            <el-form class=\"form-wrapper\" :model=\"this.loginForm\" ref=\"loginForm\">\n                <el-form-item  prop=\"userName\" class=\"login-item\" style=\"margin: 0\">\n                    <input class=\"input-item\" type=\"userName\" v-model=\"loginForm.username\" placeholder=\"账号\">\n                </el-form-item>\n                <el-form-item prop=\"pwd\" style=\"margin-top: 20px;margin-bottom: 0px\">\n                    <input class=\"input-item\" v-model=\"loginForm.password\" placeholder=\"密码\" type=\"password\">\n                </el-form-item>\n                <el-form-item @click=\"submitForm()\" style=\"margin-top: 20px\">\n                    <div class=\"btn\" @click=\"submitForm()\"  type=\"primary\">登录</div>\n                    <router-view></router-view>\n                </el-form-item>\n            </el-form>\n            <div class=\"msg\">\n                Don't have account?\n                <a href=\"#/createAccount\">Sign up</a>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport request from \"../network/request\" ;\nexport default {\n    name: 'admin',\n    data(){\n        return {\n            loginForm: {\n                username: 'liu',\n                password: '123'\n            },\n        }\n    },\n    methods:{\n        submitForm () {\n            if(this.loginForm.username==\"\"){\n                alert(\"用户名不得为空\");\n            }else if(this.loginForm.password==\"\"){\n                alert(\"密码不得为空\");\n            }else {\n                let data={\n                    username:this.loginForm.username,\n                    password:this.loginForm.password,\n                }\n                request.post(\n                    \"/api/user/login\",\n                    data\n                ).then(response => {\n                    // 处理返回信息\n                    console.log(response.data);\n                    localStorage.setItem('token', JSON.stringify(response.data.data.token))\n                    if(response.data.data!==null){\n                        this.$router.push({\n                            path: `/mainpage`,\n                            query:{\n                                username:response.data.data.username,\n                                id:response.data.data.id,\n                                email:response.data.data.email,\n                            }\n                        });\n                    }else {\n                        alert(response.data.msg);\n                    }\n                })\n            }\n        },\n\n    }\n}\n</script>\n\n<style>\n* {\n    margin: 0;\n    padding: 0;\n}\nhtml {\n    height: 100%;\n}\nbody {\n    height: 100%;\n    //background-image: linear-gradient(to right, #00AA55, #a6c1ee);\n}\n.container {\n    height: 100%;\n}\n.login-wrapper {\n    background-color: #fff;\n    width: 358px;\n    height: 588px;\n    border-radius: 15px;\n    padding: 0 50px;\n    position: relative;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%,12%);\n}\n.header {\n    font-size: 38px;\n    font-weight: bold;\n    text-align: center;\n    line-height: 200px;\n}\n.input-item {\n    display: block;\n    width: 100%;\n    margin-bottom: 20px;\n    border: 0;\n    padding: 10px;\n    border-bottom: 1px solid rgb(128, 125, 125);\n    font-size: 15px;\n    outline: none;\n}\n.input-item::placeholder {\n    text-transform: uppercase;\n}\n.btn {\n    text-align: center;\n    padding: 10px;\n    width: 100%;\n    margin-top: 40px;\n    background-image: linear-gradient(to right,#00DDAA,#a6c1ee);\n    color: #fff;\n}\n.msg {\n    text-align: center;\n    line-height: 88px;\n}\na {\n    text-decoration-line: none;\n    color: #abc1ee;\n}\n</style>\n"],"mappings":";AAyTA,OAAAA,KAAA;AACA,OAAAC,OAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;QACAC,QAAA;QACAC,QAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,WAAA;MACA,SAAAJ,SAAA,CAAAC,QAAA;QACAI,KAAA;MACA,gBAAAL,SAAA,CAAAE,QAAA;QACAG,KAAA;MACA;QACA,IAAAN,IAAA;UACAE,QAAA,OAAAD,SAAA,CAAAC,QAAA;UACAC,QAAA,OAAAF,SAAA,CAAAE;QACA;QACAL,OAAA,CAAAS,IAAA,CACA,mBACAP,IAAA,CACA,CAAAQ,IAAA,CAAAC,QAAA;UACA;UACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAT,IAAA;UACAY,YAAA,CAAAC,OAAA,UAAAC,IAAA,CAAAC,SAAA,CAAAN,QAAA,CAAAT,IAAA,CAAAA,IAAA,CAAAgB,KAAA;UACA,IAAAP,QAAA,CAAAT,IAAA,CAAAA,IAAA;YACA,KAAAiB,OAAA,CAAAC,IAAA;cACAC,IAAA;cACAC,KAAA;gBACAlB,QAAA,EAAAO,QAAA,CAAAT,IAAA,CAAAA,IAAA,CAAAE,QAAA;gBACAmB,EAAA,EAAAZ,QAAA,CAAAT,IAAA,CAAAA,IAAA,CAAAqB,EAAA;gBACAC,KAAA,EAAAb,QAAA,CAAAT,IAAA,CAAAA,IAAA,CAAAsB;cACA;YACA;UACA;YACAhB,KAAA,CAAAG,QAAA,CAAAT,IAAA,CAAAuB,GAAA;UACA;QACA;MACA;IACA;EAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}