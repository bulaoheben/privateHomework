{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from \"@/router\";\nimport request from \"@/network/request\";\nexport default {\n  name: \"clientNewOrder\",\n  mounted() {\n    let query = router.currentRoute.query;\n    let ceid = query.id;\n    let layui = window.layui;\n    layui.use('form', function () {\n      var form = layui.form;\n\n      //监听提交\n      form.on('submit(formDemo)', function (data) {\n        // layer.msg(JSON.stringify(data.field));\n        var data_json = JSON.stringify(data.field);\n        request.post(\"/api/Sys/v1/orders/\" + ceid, data_json, 'json', 'application/json').then(res => {\n          console.log(res);\n          layer.msg(res.msg);\n          var logistics = {\n            location: \"创建订单\",\n            oid: \"\"\n          };\n\n          //向服务端发送指令,添加物流信息\n          // request.post(\n          //     '/api/Sys/v1/logistics',\n          //     logistics\n          //\n          // ).then(res=>{\n          //     console.log(res)\n          //\n          //     if(res.msg===\"提交物流状态成功\") {\n          //\n          //         parent.layer.msg(res.msg, {icon: 1, time: 2000, shade: 0.2});\n          //         // window.location.reload(true);\n          //     }\n          // }).catch(e=>{\n          //     console.log(e);\n          //     parent.layer.msg('提交物流状态失败，请稍后尝试！', {icon: 2,time:3000,shade:0.2});\n          // });\n        });\n\n        return false; //设置不跳转表单\n      });\n    });\n  },\n\n  methods: {\n    goBack: function () {\n      let query = router.currentRoute.query;\n      // console.log(query)\n      router.push({\n        path: \"/clientIndex\",\n        query: query\n      });\n    }\n  }\n};","map":{"version":3,"names":["router","request","name","mounted","query","currentRoute","ceid","id","layui","window","use","form","on","data","data_json","JSON","stringify","field","post","then","res","console","log","layer","msg","logistics","location","oid","methods","goBack","push","path"],"sources":["src/components/client/clientNewOrder.vue"],"sourcesContent":["<template>\r\n    <div class=\"layui-unselect lau-sign-body\" style=\"padding-top: 0px ; height:586px; overflow:auto\" >\r\n\r\n    <form class=\"layui-form layui-form-pane\" action=\"\">\r\n        <!--  发件人卡片 -->\r\n        <div class=\"layui-card\" style=\"margin: 15px;\">\r\n            <div class=\"layui-card-header\">发件人信息</div>\r\n            <div class=\"layui-card-body\">\r\n\r\n                <div class=\"layui-form-item\">\r\n                    <label class=\"layui-form-label\">姓名</label>\r\n                    <div class=\"layui-input-block\">\r\n                        <input type=\"text\" name=\"senderName\" required  lay-verify=\"required\" placeholder=\"请输入发件人姓名\" autocomplete=\"off\" class=\"layui-input\">\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"layui-form-item\">\r\n                    <label class=\"layui-form-label\">电话</label>\r\n                    <div class=\"layui-input-block\">\r\n                        <input type=\"text\" name=\"senderPhone\" required  lay-verify=\"required\" placeholder=\"请输入发件人电话\" autocomplete=\"off\" class=\"layui-input\">\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"layui-form-item\">\r\n                    <label class=\"layui-form-label\">发件地址</label>\r\n                    <div class=\"layui-input-block\">\r\n                        <input type=\"text\" name=\"departure\" required  lay-verify=\"required\" placeholder=\"请输入发件人地址\" autocomplete=\"off\" class=\"layui-input\">\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n        <!--  收件人卡片-->\r\n        <div class=\"layui-card\" style=\"margin: 15px;\">\r\n            <div class=\"layui-card-header\">收件人信息</div>\r\n            <div class=\"layui-card-body\">\r\n\r\n                <div class=\"layui-form-item\">\r\n                    <label class=\"layui-form-label\">姓名</label>\r\n                    <div class=\"layui-input-block\">\r\n                        <input type=\"text\" name=\"receiveName\" required  lay-verify=\"required\" placeholder=\"请输入收件人姓名\" autocomplete=\"off\" class=\"layui-input\">\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"layui-form-item\">\r\n                    <label class=\"layui-form-label\">电话</label>\r\n                    <div class=\"layui-input-block\">\r\n                        <input type=\"text\" name=\"receivePhone\" required  lay-verify=\"required\" placeholder=\"请输入收件人电话\" autocomplete=\"off\" class=\"layui-input\">\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"layui-form-item\">\r\n                    <label class=\"layui-form-label\">收件地址</label>\r\n                    <div class=\"layui-input-block\">\r\n                        <input type=\"text\" name=\"destination\" required  lay-verify=\"required\" placeholder=\"请输入收件人地址\" autocomplete=\"off\" class=\"layui-input\">\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n        <!--货物卡片-->\r\n        <div class=\"layui-card\" style=\"margin: 15px;\">\r\n            <div class=\"layui-card-header\">货物信息</div>\r\n            <div class=\"layui-card-body\">\r\n\r\n                <div class=\"layui-form-item\">\r\n                    <label class=\"layui-form-label\">货物品名</label>\r\n                    <div class=\"layui-input-block\">\r\n                        <input type=\"text\" name=\"cargoType\" required  lay-verify=\"required\" placeholder=\"请输入货物品名\" autocomplete=\"off\" class=\"layui-input\">\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"layui-form-item\">\r\n                    <label class=\"layui-form-label\">重量</label>\r\n                    <div class=\"layui-input-inline\" style=\"width: 85%;\">\r\n                        <input type=\"number\" name=\"weight\" required lay-verify=\"required\" placeholder=\"请输入货物重量\" autocomplete=\"off\" class=\"layui-input\">\r\n                    </div>\r\n                    <div class=\"layui-form-mid layui-word-aux\">千克</div>\r\n                </div>\r\n\r\n                <div class=\"layui-form-item\">\r\n                    <label class=\"layui-form-label\">体积</label>\r\n                    <div class=\"layui-input-inline\" style=\"width: 85%;\">\r\n                        <input type=\"number\" name=\"volume\" required lay-verify=\"required\" placeholder=\"请输入货物体积\" autocomplete=\"off\" class=\"layui-input\">\r\n                    </div>\r\n                    <div class=\"layui-form-mid layui-word-aux\">立方米</div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n        <!--  提交按钮-->\r\n        <div class=\"layui-form-item\">\r\n            <div style=\" align-items: center;display: flex;justify-content: center;\">\r\n                <button class=\"layui-btn\" lay-submit lay-filter=\"formDemo\">立即提交</button>\r\n                <button type=\"reset\" class=\"layui-btn layui-btn-primary\">重置</button>\r\n<!--                <el-button type=\"primary\" @click=\"goBack\" style=\"margin-left: 10px;\">返回</el-button>-->\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </form>\r\n\r\n\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import router from \"@/router\";\r\n    import request from \"@/network/request\";\r\n\r\n    export default {\r\n        name: \"clientNewOrder\",\r\n        mounted() {\r\n            let query = router.currentRoute.query\r\n            let ceid  = query.id\r\n            let layui = window.layui\r\n            layui.use('form', function(){\r\n                var form = layui.form;\r\n\r\n                //监听提交\r\n                form.on('submit(formDemo)', function(data){\r\n                    // layer.msg(JSON.stringify(data.field));\r\n                    var data_json = JSON.stringify(data.field)\r\n\r\n\r\n                    request.post(\r\n                        \"/api/Sys/v1/orders/\"+ceid,\r\n                        data_json,\r\n                        'json',\r\n                        'application/json'\r\n                    ).then(res=>{\r\n                        console.log(res)\r\n\r\n                        layer.msg(res.msg);\r\n                        var logistics ={\r\n                            location:\"创建订单\",\r\n                            oid:\"\"\r\n                        }\r\n\r\n                        //向服务端发送指令,添加物流信息\r\n                        // request.post(\r\n                        //     '/api/Sys/v1/logistics',\r\n                        //     logistics\r\n                        //\r\n                        // ).then(res=>{\r\n                        //     console.log(res)\r\n                        //\r\n                        //     if(res.msg===\"提交物流状态成功\") {\r\n                        //\r\n                        //         parent.layer.msg(res.msg, {icon: 1, time: 2000, shade: 0.2});\r\n                        //         // window.location.reload(true);\r\n                        //     }\r\n                        // }).catch(e=>{\r\n                        //     console.log(e);\r\n                        //     parent.layer.msg('提交物流状态失败，请稍后尝试！', {icon: 2,time:3000,shade:0.2});\r\n                        // });\r\n\r\n                    })\r\n                    return false;//设置不跳转表单\r\n                });\r\n            });\r\n        },\r\n        methods:{\r\n             goBack:function() {\r\n                 let query = router.currentRoute.query\r\n                // console.log(query)\r\n                router.push({path:\"/clientIndex\",query:query})\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":";AAgHA,OAAAA,MAAA;AACA,OAAAC,OAAA;AAEA;EACAC,IAAA;EACAC,QAAA;IACA,IAAAC,KAAA,GAAAJ,MAAA,CAAAK,YAAA,CAAAD,KAAA;IACA,IAAAE,IAAA,GAAAF,KAAA,CAAAG,EAAA;IACA,IAAAC,KAAA,GAAAC,MAAA,CAAAD,KAAA;IACAA,KAAA,CAAAE,GAAA;MACA,IAAAC,IAAA,GAAAH,KAAA,CAAAG,IAAA;;MAEA;MACAA,IAAA,CAAAC,EAAA,+BAAAC,IAAA;QACA;QACA,IAAAC,SAAA,GAAAC,IAAA,CAAAC,SAAA,CAAAH,IAAA,CAAAI,KAAA;QAGAhB,OAAA,CAAAiB,IAAA,CACA,wBAAAZ,IAAA,EACAQ,SAAA,EACA,QACA,mBACA,CAAAK,IAAA,CAAAC,GAAA;UACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;UAEAG,KAAA,CAAAC,GAAA,CAAAJ,GAAA,CAAAI,GAAA;UACA,IAAAC,SAAA;YACAC,QAAA;YACAC,GAAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;QAEA;;QACA;MACA;IACA;EACA;;EACAC,OAAA;IACAC,MAAA,WAAAA,CAAA;MACA,IAAAzB,KAAA,GAAAJ,MAAA,CAAAK,YAAA,CAAAD,KAAA;MACA;MACAJ,MAAA,CAAA8B,IAAA;QAAAC,IAAA;QAAA3B,KAAA,EAAAA;MAAA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}