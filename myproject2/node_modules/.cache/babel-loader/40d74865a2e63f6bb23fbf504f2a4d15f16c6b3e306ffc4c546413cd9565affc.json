{"ast":null,"code":"import request from \"@/network/request\";\nimport router from \"@/router\";\n\n//取传入的路径上的参数\nfunction RequestParameter() {\n  var url = window.location.search; //获取url中\"?\"符后的字串\n  var theRequest = new Object();\n  if (url.indexOf(\"?\") != -1) {\n    var str = url.substr(1);\n    var strs = str.split(\"&\");\n    for (var i = 0; i < strs.length; i++) {\n      theRequest[strs[i].split(\"=\")[0]] = strs[i].split(\"=\")[1];\n    }\n  }\n  return theRequest;\n}\nexport default {\n  name: \"logisticsInfo\",\n  data() {\n    return {\n      reverse: true,\n      activities: []\n    };\n  },\n  mounted() {\n    var oid = RequestParameter()[\"oid\"];\n\n    //加载数据\n    // /v1/logistics/{oid}\n    //向服务端发送指令\n    request.get('/api/Sys/v1/logistics/' + oid).then(res => {\n      console.log(res);\n      this.activities = res.data;\n    }).catch(e => {\n      console.log(e);\n      parent.layer.msg('提交物流状态失败，请稍后尝试！', {\n        icon: 2,\n        time: 3000,\n        shade: 0.2\n      });\n    });\n  }\n};","map":{"version":3,"names":["request","router","RequestParameter","url","window","location","search","theRequest","Object","indexOf","str","substr","strs","split","i","length","name","data","reverse","activities","mounted","oid","get","then","res","console","log","catch","e","parent","layer","msg","icon","time","shade"],"sources":["src/components/logistics/logisticsInfo.vue"],"sourcesContent":["<template>\r\n    <div class=\"block\" style=\"padding: 20px\">\r\n        <div class=\"radio\" style=\"height: 40px\">\r\n            排序：\r\n            <el-radio-group v-model=\"reverse\">\r\n                <el-radio :label=\"true\">倒序</el-radio>\r\n                <el-radio :label=\"false\">正序</el-radio>\r\n            </el-radio-group>\r\n        </div>\r\n\r\n        <el-timeline :reverse=\"reverse\">\r\n            <el-timeline-item\r\n                    v-for=\"(activity, index) in activities\"\r\n                    :key=\"index\"\r\n                    :timestamp=\"activity.recordTime\">\r\n                {{activity.location}}\r\n            </el-timeline-item>\r\n        </el-timeline>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import request from \"@/network/request\";\r\n    import router from \"@/router\";\r\n\r\n    //取传入的路径上的参数\r\n    function RequestParameter(){\r\n        var url = window.location.search; //获取url中\"?\"符后的字串\r\n        var theRequest = new Object();\r\n        if (url.indexOf(\"?\") != -1) {\r\n            var str = url.substr(1);\r\n            var strs = str.split(\"&\");\r\n            for(var i = 0; i < strs.length; i ++) {\r\n                theRequest[strs[i].split(\"=\")[0]]=(strs[i].split(\"=\")[1]);\r\n            }\r\n        }\r\n        return theRequest\r\n    }\r\n    export default {\r\n        name: \"logisticsInfo\",\r\n        data() {\r\n            return {\r\n                reverse: true,\r\n                activities: []\r\n            };\r\n        },\r\n        mounted(){\r\n            var oid = RequestParameter()[\"oid\"];\r\n\r\n\r\n            //加载数据\r\n            // /v1/logistics/{oid}\r\n            //向服务端发送指令\r\n            request.get(\r\n                '/api/Sys/v1/logistics/'+oid,\r\n\r\n            ).then(res=>{\r\n                console.log(res)\r\n                this.activities = res.data;\r\n\r\n            }).catch(e=>{\r\n                console.log(e);\r\n                parent.layer.msg('提交物流状态失败，请稍后尝试！', {icon: 2,time:3000,shade:0.2});\r\n            });\r\n\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAuBA,OAAAA,OAAA;AACA,OAAAC,MAAA;;AAEA;AACA,SAAAC,iBAAA;EACA,IAAAC,GAAA,GAAAC,MAAA,CAAAC,QAAA,CAAAC,MAAA;EACA,IAAAC,UAAA,OAAAC,MAAA;EACA,IAAAL,GAAA,CAAAM,OAAA;IACA,IAAAC,GAAA,GAAAP,GAAA,CAAAQ,MAAA;IACA,IAAAC,IAAA,GAAAF,GAAA,CAAAG,KAAA;IACA,SAAAC,CAAA,MAAAA,CAAA,GAAAF,IAAA,CAAAG,MAAA,EAAAD,CAAA;MACAP,UAAA,CAAAK,IAAA,CAAAE,CAAA,EAAAD,KAAA,YAAAD,IAAA,CAAAE,CAAA,EAAAD,KAAA;IACA;EACA;EACA,OAAAN,UAAA;AACA;AACA;EACAS,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA,IAAAC,GAAA,GAAAnB,gBAAA;;IAGA;IACA;IACA;IACAF,OAAA,CAAAsB,GAAA,CACA,2BAAAD,GAAA,CAEA,CAAAE,IAAA,CAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;MACA,KAAAL,UAAA,GAAAK,GAAA,CAAAP,IAAA;IAEA,GAAAU,KAAA,CAAAC,CAAA;MACAH,OAAA,CAAAC,GAAA,CAAAE,CAAA;MACAC,MAAA,CAAAC,KAAA,CAAAC,GAAA;QAAAC,IAAA;QAAAC,IAAA;QAAAC,KAAA;MAAA;IACA;EAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}